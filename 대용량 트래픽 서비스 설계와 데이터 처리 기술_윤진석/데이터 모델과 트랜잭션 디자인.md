### 논리적 데이터 아키텍쳐 Logical Data Architecture
#### 데이터 스키마 또는 논리적 데이터 모델이라고 함.

- 논리적 데이터 모델은 흔히 
    1. 객체 기반의 개체-관계 ER(Entity-Relationship) 모델
    2. 행 기반의 관계형 (Relational) 모델
    3. 다차원 (nested key value pairs) 모델 (NoSQL)

- 실제 세상의 데이터를 모델링 할 수 있어야 한다 (ER-diagram)
  
#### ORM(Object Relational Mapping)

- 관계형 데이터 모델을 OOP의 Entity 형태로 투영(mapping)시키는 방법
```
// 관계형 테이블을 java의 객체로 만들었을 때
public class Person {
    private int id;
    private String name;
    private int age;
    
    public int getID() {
        return id;
    }
    
    public void setId(int id) {
        this.id = id;
    }
    
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        this.age = age;
    }
}
```

- ORM 사용의 이유 : 지속적인 서비스 소프트웨어 개발/배포
    - ORM은 일반적으로 DB와 소프트웨어 중간의 Persistence Layer라고 함
    - 장점
        1. DBMS에 대한 종속성이 줄어든다.
            - DBMS 교체작업 때 해야 할 일이 줄어든다
            - 자바 객체에 매핑되어 있기 때문에 자바의 기능 (equals, hashcode)를 사용할 수 있다.
        2. 재사용 및 유지보수
            - 데이터에 대한 객체를 별도로 관리하기 때문에 재활용할 수 있다.
        3. 직관적인 코드
            - DBMS 와 관련된 선언문, 할당, 종료와 같은 부수적인 코드가 사라진다
            - 객체 지향적인 코드
    - 일반적인 대규모 서비스의 소프트웨어 업데이트는 부분적으로 진행된다
    - 따라서, 데이터의 이전 버전과 새 버전을 동시에 사용할 수 있도록 관리해야 하는 어려움이 있다

### 트랜잭션이란?
#### 데이터베이스의 상태를 변화시키기 위해서 수행하는 논리적 작업의 단위

- 트랜잭션은 원자성, 일관성, 독립성, 지속성을 지켜야한다.


#### 트랜잭션 인터페이스 디자인
- 주요 문제 : 트랜잭션이 클라이언트에게 명시적인지 묵시적인지가 가장 중요
    - 트랜잭션 명시 : 클라이언트가 수천 개의 쿼리로 접근할 때, 그 중 트랜잭션들이 있다면, 
      트랜잭션의 시작과 끝을 제어할 수 있게 하여 각 쿼리의 고성능 처리와 적절한 롤백 전략을 제시
    - 트랙잭션 묵시 : 일반적으로 서비스의 데이터베이스는 여러 개인데, 클라이언트가 특정 데이터베이스에만
    종속되기 때문에 숨기는 경우. 이런 경우 추상 트랜잭션 메커니즘의 행태로 디자인 한다.
      
- 예) 어플리케이션에서 여러 요청을 한 번에 수행하는 이벤트가 발생할 경우, (여러 친구요청을 동시에 수락하기 같은)
묵시적보다 명시적으로 설계해야 여러 트랜잭션 단위에 대한 전략을 정확하게 잡을 수 있어서 좋다
  
#### 결론
```
현실 사물과 관계를 도식화하고, 이를 데이터 모델링하는 습관으로 역량을 개선할 수 있다.
일반적인 대규모 서비스의 소프트웨어 업데이트는 부분적으로 진행되고, 따라서 데이터의 이전 버전과 새 버전을
동시에 사용할 수 있도록 관리해야하는 어려움이 있다. 따라서 소프트웨어와 데이터베이스 사이에 ORM 레이어링을 통해
적절한 유연성을 갖추는 설계가 필요하다.
```