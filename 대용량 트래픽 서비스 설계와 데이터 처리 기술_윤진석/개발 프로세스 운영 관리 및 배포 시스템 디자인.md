### 서비스 무정지 배포 패턴

1. Rolling Deployments
    - 순차적으로 패치 - Backward compatibility 관리 필요
    - 하나씩 셧다운 - 업데이트 - 리스타트
    - 구 버전과 새 버전간 호환관리 철저해야
2. Blue/Green Deployments
    - 전체 서버를 스와핑 한다
    - 비용이 많이 든다 (큰 서비스 일수록 어려움)
    - 클라우드 서비스를 이용하면 비용단점을 줄일 수는 있다
3. Canary Deployments
    - 트래픽을 순차적으로 이주
    - 순차적으로 옮기기 때문에 역시 호환관리 철저하게 되어야 한다
 
#### 롤링 배포
- 여러 서버 인스턴트를 한 대씩 새 버전으로 순차적인 업그레이드를 하는것
- 중간에 라이브 상황에서 버그 발생할 여지가 많다(구-신 버전이 동시에 작동하므로)
#### 블루/그린 배포
- 업데이트된 새 서버 전체를 준비한다
- 한번에 과거 서버와 전체 교체한다
- 이상이 생길경우 이전 서버로 바로 돌아갈 수 있다는 장점이 있다
#### 카나리 배포
- 트래픽의 일부를 새 서버에 마치 배타 버전처럼 트래픽을 이전한다
- 이를 점진적으로 비율을 조정해가며 최종적으로 100%를 신규 버전으로 교체한다.
- 롤링 업데이트와의 차이는 기존 버전과 신규 버전의 정확한 비율을 가지고 비교하고 테스트 할때 주로 사용


##### 실제 사례
- 로그 레벨을 디버그 레벨로 로깅하면서 서버에 수정된 일부를 확인하고 싶을 경우 롤링 업데이트가 효과적
- 블루/그린 배포의 경우 대규모 (major) 업데이트, 차세대로 전면적인 변화가 일어날 경우에 유용하다
- A/B 테스트 등에 활용하면 좋다. (구버전에 대한 반응과 신버전에 대한 반응을 비교 확인하는 테스트)

* A/B 테스팅이란? 대조 실험(대조군/실험군)과 동일한 뜻



